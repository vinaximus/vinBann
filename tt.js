function sortColors(A){
    let last=A.length-1;
    let first=0;
    let i=0;
    while (i<A.length && i<last) {
        if (last<0 || first>=A.length) {
            console.log(last+" "+first);
        }
        if (i==A.length) {
            console.log("fff");
        }
        if (A[first]==0) first++;
        if (A[last]==2) last--;
        if (A[i]==0) {
            [A[i],A[first]]=[A[first],A[i]];
            first++;
        } else if (A[i]==2) {
            [A[i],A[last]]=[A[last],A[i]];
            last--;
        } else {
            i++;
        }
    }
    
    return A;
}





A=[0,2,2,0,0,2,1,2,0,1,1,2,0,2,2,0,1,0,0,1,1,2,1,0,0,0,2,1,1,2,1,0,2,2,1,2,1,1,1,1,1,0,0,0,2,0,1,0,2,1,0,1,1,0,0,0,1,1,0,2,1,0,2,1,0,2,0,0,2,2,1,2,2,2,1,0,0,0,2,2,1,0,1,1,0,2,0,1,2,2,2,0,2,1,0,1,2,0,2,2,0,2,1,1,2,1,2,0,2,2,2,1,2,0,1,1,1,0,1,0,1,2,2,1,1,0,2,2,1,2,2,1,0,0,0,1,1,1,2,0,2,1,1,0,1,1,0,1,0,0,1,2,1,1,1,2,0,2,0,2,0,0,0,1,1,0,1,2,0,2,1,0,0,1,2,1,2,1,1,2,1,2,1,0,0,1,2,2,1,0,1,2,0,1,0,2,2,0,0,1,1,1,0,0,0,2,2,2,0,2,1,0,1,2,0,0,0,2,1,2,2,1,2,2,1,2,0,1,0,1,2,1,2,0,1,1,2,2,1,1,2,1,2,2,1,2,2,1,2,1,1,1,0,1,1,1,1,1,0,0,1,2,1,2,0,2,1,1,0,1,0,2,1,2,2,1,2,0,0,2,0,0,2,0,0,1,2,0,0,0,1,0,2,1,0,1,0,1,2,0,2,0,1,1,2,1,0,0,2,0,2,0,0,0,0,1,2,2,2,0,0,1,1,2,0,0,0,1,2,1,2,2,0,0,1,0,2,0,2,1,2,1,2,2,0,1,2,0,0,0,0,1,0,0,0,1,1,2];
sortColors(A);
console.table(A);